<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Devan Magic App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');
        body {
            font-family: 'Orbitron', sans-serif;
            background-color: #050505;
            color: #e0e0e0;
        }
        .modal-overlay {
            background-color: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(15px);
        }
        .animate-slide-up {
            animation: slideUp 0.3s forwards;
        }
        @keyframes slideUp {
            from { transform: translateY(100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .animate-fade-in {
            animation: fadeIn 0.3s forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .app-card {
            position: relative;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            overflow: hidden;
            border: 2px solid transparent;
        }
        .app-card:hover {
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(50, 130, 184, 0.5);
            border-color: #3282b8; /* Border will appear on hover */
        }
        .app-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(15, 76, 117, 0.2);
            z-index: 1;
            transition: background 0.3s ease;
        }
        .app-card:hover::before {
            background: rgba(15, 76, 117, 0.4);
        }
        .app-preview {
            z-index: 2;
            position: relative;
        }
        .button-glow {
            box-shadow: 0 0 10px rgba(50, 130, 184, 0.6);
            transition: box-shadow 0.3s ease;
        }
        .button-glow:hover {
            box-shadow: 0 0 20px rgba(50, 130, 184, 0.8), 0 0 30px rgba(50, 130, 184, 0.6);
        }
        .sidebar {
            width: 300px;
            transform: translateX(-100%);
            transition: transform 0.3s ease-in-out;
            z-index: 60;
        }
        .sidebar.open {
            transform: translateX(0);
        }
    </style>
</head>
<body class="p-6 md:p-10">

    <!-- Header Section -->
    <header class="flex justify-between items-center mb-16">
        <!-- Burger Menu Icon -->
        <div id="burger-menu-icon" class="cursor-pointer p-2 rounded-full hover:bg-gray-800 transition duration-200">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
        </div>

        <h1 class="text-3xl md:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-fuchsia-600 mb-2">DEVAN MAGIC APP</h1>

        <!-- Cart Icon -->
        <div id="cart-icon" class="cursor-pointer p-2 rounded-full hover:bg-gray-800 transition duration-200 relative">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.182 1.706.703 1.706H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
            </svg>
            <span id="cart-count" class="absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-100 transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full">0</span>
        </div>
    </header>

    <!-- Sidebar Menu -->
    <div id="sidebar-menu" class="sidebar fixed top-0 left-0 h-full bg-gray-950 p-6 shadow-2xl flex flex-col items-center">
        <button id="close-sidebar-btn" class="absolute top-4 right-4 text-gray-400 hover:text-white transition duration-200">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
        </button>
        <h2 class="text-3xl font-bold mt-12 mb-8 text-white">Menu</h2>
        <button id="contact-btn" class="text-lg text-cyan-400 font-semibold mb-6 hover:underline focus:outline-none">Kontak</button>
        <button id="social-media-btn" class="text-lg text-cyan-400 font-semibold mb-6 hover:underline focus:outline-none">Social Media</button>
        <button id="about-btn" class="text-lg text-cyan-400 font-semibold mb-6 hover:underline focus:outline-none">About</button>
    </div>

    <!-- Product Grid -->
    <main id="app-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto"></main>

    <!-- Product Modal -->
    <div id="product-modal" class="fixed inset-0 z-50 hidden items-center justify-center p-4 modal-overlay animate-fade-in">
        <div class="bg-gray-900 rounded-2xl max-w-2xl w-full p-8 shadow-2xl relative transform scale-95 md:scale-100 transition-all duration-300 border-2 border-cyan-500 max-h-[90vh] overflow-y-auto">
            <button id="close-modal" class="absolute top-4 right-4 text-gray-400 hover:text-white transition duration-200">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
            <div id="modal-content">
                <!-- Konten modal akan diisi oleh JS -->
            </div>
        </div>
    </div>

    <!-- Info Modal (for Contact, Social Media, About) -->
    <div id="info-modal" class="fixed inset-0 z-50 hidden items-center justify-center p-4 modal-overlay animate-fade-in">
        <div class="bg-gray-900 rounded-2xl max-w-2xl w-full p-8 shadow-2xl relative transform scale-95 md:scale-100 transition-all duration-300 border-2 border-cyan-500">
            <button id="close-info-modal" class="absolute top-4 right-4 text-gray-400 hover:text-white transition duration-200">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
            <div id="info-modal-content">
                <!-- Konten akan diisi oleh JS -->
            </div>
        </div>
    </div>

    <!-- Cart Modal -->
    <div id="cart-modal" class="fixed inset-0 z-50 hidden p-4 modal-overlay animate-fade-in">
        <div class="bg-gray-900 rounded-2xl max-w-2xl w-full mx-auto p-8 shadow-2xl relative transform translate-y-full animate-slide-up border-2 border-cyan-500">
            <button id="close-cart-modal" class="absolute top-4 right-4 text-gray-400 hover:text-white transition duration-200">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
            <h2 class="text-3xl font-bold mb-6 text-white border-b border-gray-700 pb-2">Keranjang Belanja</h2>
            <div id="cart-items" class="max-h-80 overflow-y-auto mb-6">
                <!-- Item keranjang akan diisi oleh JS -->
            </div>
            <div id="cart-summary" class="text-xl font-semibold flex justify-between items-center mb-6 border-t border-gray-700 pt-4">
                <span>Total:</span>
                <span id="cart-total" class="text-lg text-white">Rp 0</span>
            </div>
            <div class="flex justify-end">
                <button id="clear-cart-btn" class="bg-red-600 text-white font-semibold py-2 px-4 rounded-full mr-4 hover:bg-red-700 transition duration-200 button-glow-red">Bersihkan Keranjang</button>
                <button id="order-now-btn" class="bg-blue-600 text-white font-semibold py-2 px-6 rounded-full hover:bg-blue-700 transition duration-200 button-glow">Pesan Sekarang</button>
            </div>
        </div>
    </div>

    <!-- Name Input Modal -->
    <div id="name-modal" class="fixed inset-0 z-50 hidden items-center justify-center p-4 modal-overlay animate-fade-in">
        <div class="bg-gray-900 rounded-2xl max-w-md w-full p-8 shadow-2xl relative transform scale-95 md:scale-100 transition-all duration-300 border-2 border-cyan-500">
            <h2 class="text-2xl font-bold mb-4 text-white">Masukkan Nama Anda</h2>
            <p class="text-gray-400 mb-6">Nama ini akan digunakan untuk konfirmasi pesanan via WhatsApp.</p>
            <input type="text" id="user-name" class="w-full p-3 rounded-lg bg-gray-800 text-white placeholder-gray-500 border border-cyan-700 focus:border-cyan-500 focus:outline-none" placeholder="Contoh: Budi Santoso">
            <div class="mt-6 flex justify-end">
                <button id="submit-name-btn" class="bg-blue-600 text-white font-semibold py-2 px-6 rounded-full hover:bg-blue-700 transition duration-200 button-glow">Lanjutkan</button>
            </div>
        </div>
    </div>

    <script type="module">
        import { apps } from './products.js';

        let cart = [];

        const appGrid = document.getElementById('app-grid');
        const productModal = document.getElementById('product-modal');
        const infoModal = document.getElementById('info-modal');
        const cartModal = document.getElementById('cart-modal');
        const nameModal = document.getElementById('name-modal');
        const cartIcon = document.getElementById('cart-icon');
        const cartCount = document.getElementById('cart-count');
        const cartItemsContainer = document.getElementById('cart-items');
        const cartTotalDisplay = document.getElementById('cart-total');
        const orderNowBtn = document.getElementById('order-now-btn');
        const clearCartBtn = document.getElementById('clear-cart-btn');
        const userNameInput = document.getElementById('user-name');
        const submitNameBtn = document.getElementById('submit-name-btn');
        const burgerMenuIcon = document.getElementById('burger-menu-icon');
        const sidebarMenu = document.getElementById('sidebar-menu');
        const closeSidebarBtn = document.getElementById('close-sidebar-btn');
        const closeInfoModalBtn = document.getElementById('close-info-modal');
        
        // Memperbarui tombol sidebar agar memiliki ID
        const contactBtn = document.getElementById('contact-btn');
        const socialMediaBtn = document.getElementById('social-media-btn');
        const aboutBtn = document.getElementById('about-btn');

        // Fungsi untuk memformat harga
        const formatPrice = (price) => {
            return `Rp ${price.toLocaleString('id-ID')}`;
        };

        // Render semua aplikasi ke dalam grid
        const renderApps = () => {
            appGrid.innerHTML = apps.map(app => `
                <div class="app-card bg-gray-950 rounded-3xl shadow-2xl transition-transform duration-300 transform hover:scale-105 cursor-pointer" data-id="${app.id}">
                    <!-- Menggunakan video YouTube sebagai thumbnail -->
                    <iframe class="w-full h-48 rounded-t-3xl app-preview transition-transform duration-300" src="${app.preview.replace('?autoplay=1&mute=1', '?mute=1&controls=0&modestbranding=1&rel=0')}" frameborder="0" allow="encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    <div class="p-6">
                        <h2 class="text-2xl font-bold text-white mb-2">${app.name}</h2>
                        <p class="text-sm text-gray-400 mb-4">${app.shortDescription}</p>
                        <div class="flex justify-between items-center">
                            <span class="text-lg font-bold text-cyan-400">${formatPrice(app.price)}</span>
                            <button class="add-to-cart-btn bg-cyan-600 text-white font-semibold py-2 px-4 rounded-full transition duration-200 hover:bg-cyan-700" data-id="${app.id}">
                                <span class="hidden md:inline">Lihat Detail</span>
                                <span class="inline md:hidden">Detail</span>
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        };

        // Menampilkan modal produk
        const showProductModal = (appId) => {
            const app = apps.find(a => a.id === appId);
            if (!app) return;

            const modalContent = document.getElementById('modal-content');
            modalContent.innerHTML = `
                <div class="flex flex-col md:flex-row gap-6">
                    <div class="md:w-1/2 rounded-3xl overflow-hidden shadow-lg border-2 border-cyan-500">
                        <iframe class="w-full h-48 md:h-72" src="${app.preview}" frameborder="0" allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                    <div class="md:w-1/2">
                        <h2 class="text-3xl font-bold text-white mb-2">${app.name}</h2>
                        <span class="inline-block px-3 py-1 text-sm font-semibold rounded-full text-cyan-200 bg-cyan-600 mb-4">${formatPrice(app.price)}</span>
                        <p class="text-gray-300 mb-6 leading-relaxed">${app.fullDescription}</p>
                        <button id="add-to-cart-modal-btn" class="w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-full transition duration-200 hover:bg-blue-700 button-glow" data-id="${app.id}">Tambahkan ke Keranjang</button>
                    </div>
                </div>
            `;
            productModal.classList.remove('hidden');
            productModal.classList.add('flex');

            // Tambahkan event listener untuk tombol "Tambahkan ke Keranjang" di modal
            document.getElementById('add-to-cart-modal-btn').addEventListener('click', () => {
                addToCart(appId);
            });
        };

        // Menutup modal produk
        document.getElementById('close-modal').addEventListener('click', () => {
            productModal.classList.add('hidden');
            productModal.classList.remove('flex');
            // Stop video preview when modal is closed
            const iframe = productModal.querySelector('iframe');
            if (iframe) {
                iframe.src = '';
            }
        });

        // Menambahkan item ke keranjang
        const addToCart = (appId) => {
            const app = apps.find(a => a.id === appId);
            if (!app) return;
            cart.push(app);
            updateCart();
            document.getElementById('close-modal').click();
            alertMessage('Item ditambahkan ke keranjang!', 'bg-blue-600');
        };

        // Memperbarui tampilan keranjang
        const updateCart = () => {
            cartCount.textContent = cart.length;
            cartItemsContainer.innerHTML = '';
            let total = 0;

            if (cart.length === 0) {
                cartItemsContainer.innerHTML = '<p class="text-center text-gray-500 py-8">Keranjangmu kosong.</p>';
                orderNowBtn.disabled = true;
                orderNowBtn.classList.add('opacity-50', 'cursor-not-allowed');
            } else {
                orderNowBtn.disabled = false;
                orderNowBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                
                const groupedCart = cart.reduce((acc, app) => {
                    const existing = acc.find(item => item.id === app.id);
                    if (existing) {
                        existing.quantity++;
                    } else {
                        acc.push({ ...app, quantity: 1 });
                    }
                    return acc;
                }, []);
                
                groupedCart.forEach(item => {
                    total += item.price * item.quantity;
                    const itemElement = document.createElement('div');
                    itemElement.className = 'flex justify-between items-center py-2 border-b border-gray-800';
                    itemElement.innerHTML = `
                        <div>
                            <span class="font-semibold text-white">${item.name}</span>
                            <span class="text-sm text-gray-400"> x${item.quantity}</span>
                        </div>
                        <span class="text-sm font-semibold text-white">${formatPrice(item.price * item.quantity)}</span>
                    `;
                    cartItemsContainer.appendChild(itemElement);
                });
            }
            cartTotalDisplay.textContent = formatPrice(total);
        };

        // Menampilkan modal keranjang
        cartIcon.addEventListener('click', () => {
            cartModal.classList.remove('hidden');
            cartModal.classList.add('flex', 'items-center', 'justify-center');
            updateCart();
        });

        // Menutup modal keranjang
        document.getElementById('close-cart-modal').addEventListener('click', () => {
            cartModal.classList.add('hidden');
            cartModal.classList.remove('flex', 'items-center', 'justify-center');
        });

        // Membersihkan keranjang
        clearCartBtn.addEventListener('click', () => {
            cart = [];
            updateCart();
            alertMessage('Keranjang berhasil dibersihkan.', 'bg-red-600');
            document.getElementById('close-cart-modal').click();
        });

        // Tombol "Pesan Sekarang"
        orderNowBtn.addEventListener('click', () => {
            cartModal.classList.add('hidden');
            nameModal.classList.remove('hidden');
            nameModal.classList.add('flex');
            userNameInput.focus();
        });

        // Submit nama dan arahkan ke WhatsApp
        submitNameBtn.addEventListener('click', () => {
            const userName = userNameInput.value.trim();
            if (userName === '') {
                alertMessage('Nama tidak boleh kosong.', 'bg-yellow-600');
                return;
            }

            const appList = cart.map(app => `- ${app.name}`).join('\n');
            const message = encodeURIComponent(`Halo Devan Magic. Ini pesanan apps saya atas nama ${userName}:\n${appList}\n\nTotal: ${cartTotalDisplay.textContent}`);
            
            window.open(`https://wa.me/62895618365765?text=${message}`, '_blank');
            
            // Tutup semua modal dan reset keranjang setelah pesanan
            nameModal.classList.add('hidden');
            cart = [];
            updateCart();
            alertMessage('Pesanan Anda sudah siap. Silakan lanjutkan di WhatsApp!', 'bg-blue-600');
        });

        // Custom Alert Message Box (instead of alert())
        const alertMessage = (message, bgColor) => {
            const existingAlert = document.getElementById('custom-alert');
            if (existingAlert) existingAlert.remove();

            const alertDiv = document.createElement('div');
            alertDiv.id = 'custom-alert';
            alertDiv.className = `fixed top-6 left-1/2 -translate-x-1/2 z-[100] ${bgColor} text-white px-6 py-3 rounded-full shadow-lg transition-all duration-300 ease-in-out transform scale-0`;
            alertDiv.textContent = message;
            document.body.appendChild(alertDiv);
            
            setTimeout(() => {
                alertDiv.classList.remove('scale-0');
                alertDiv.classList.add('scale-100');
            }, 10);
            
            setTimeout(() => {
                alertDiv.classList.remove('scale-100');
                alertDiv.classList.add('scale-0');
                setTimeout(() => alertDiv.remove(), 300);
            }, 3000);
        };

        // Sidebar logic
        burgerMenuIcon.addEventListener('click', () => {
            sidebarMenu.classList.add('open');
        });
        
        closeSidebarBtn.addEventListener('click', () => {
            sidebarMenu.classList.remove('open');
        });

        // Info Modal Functions
        const openInfoModal = (title, contentHTML) => {
            const infoModalContent = document.getElementById('info-modal-content');
            infoModalContent.innerHTML = `
                <h2 class="text-3xl font-bold mb-4 text-white">${title}</h2>
                ${contentHTML}
            `;
            infoModal.classList.remove('hidden');
            infoModal.classList.add('flex');
            closeSidebarBtn.click(); // close sidebar
        };

        closeInfoModalBtn.addEventListener('click', () => {
            infoModal.classList.add('hidden');
            infoModal.classList.remove('flex');
        });

        const showContactModal = () => {
            const whatsappNumber = "+62 895-6183-65765";
            const whatsappLink = "https://wa.me/62895618365765";
            const content = `
                <div class="flex flex-col items-center justify-center text-center">
                    <p class="text-xl text-gray-300 mb-4">Untuk pemesanan atau pertanyaan, silakan hubungi kami di WhatsApp.</p>
                    <a href="${whatsappLink}" target="_blank" class="flex items-center space-x-2 text-2xl md:text-3xl font-bold text-green-400 hover:text-green-500 transition-colors duration-200">
                        <svg class="w-8 h-8 md:w-10 md:h-10 fill-current" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12.04 2C6.587 2 2.126 6.462 2.122 11.916c0 1.745.507 3.447 1.487 4.908L2 22l5.255-1.383a10.016 10.016 0 004.79-1.189c5.548 0 10.038-4.483 10.04-10.031A10.045 10.045 0 0012.04 2zM17.5 15.3c-.272.136-.59.204-.897.204a1.868 1.868 0 01-1.396-.595c-.266-.27-.617-.795-.87-1.104-.254-.31-.555-.37-.77-.37s-.462.068-.727.408c-.266.34-.617.828-.77.994-.154.166-.307.249-.554.249-.247 0-1.114-.413-2.128-.847-1.013-.434-1.687-1.464-1.782-1.62-.095-.155-.01-.24.085-.405.085-.155.19-.387.275-.552.085-.166.113-.248.17-.37.057-.123.028-.23-.014-.32s-.404-.972-.56-1.332c-.155-.36-.31-.304-.447-.304-.136 0-.29-.009-.445-.009s-.35.034-.537.247c-.18.21-.686.678-.686 1.657 0 .98.71 1.912.815 2.05s1.378 2.08 3.322 2.89c1.944.81 2.31 1.018 2.766.95.45-.07.97-.616 1.11-.995.14-.378.14-.69.09-1.03-.047-.34-.17-.532-.35-.744z"/>
                        </svg>
                        <span>${whatsappNumber}</span>
                    </a>
                </div>
            `;
            openInfoModal("Kontak Kami", content);
        };

        const showSocialMediaModal = () => {
            const instagramLink1 = "https://www.instagram.com/pesulapgabut";
            const instagramLink2 = "https://www.instagram.com/devanmagic";
            const content = `
                <div class="flex flex-col items-center justify-center text-center space-y-6">
                    <h3 class="text-xl text-gray-300">Temukan kami di Instagram:</h3>
                    <a href="${instagramLink1}" target="_blank" class="flex items-center space-x-4 text-xl md:text-2xl font-bold text-fuchsia-400 hover:text-fuchsia-500 transition-colors duration-200">
                        <svg class="w-8 h-8 fill-current" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2.163c3.204 0 3.584.012 4.85.07c3.252.14 4.77 1.63 4.908 4.908.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.14 3.252-1.63 4.77-4.908 4.908-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-3.279-.139-4.77-1.63-4.908-4.908-.058-1.266-.07-1.646-.07-4.85s.012-3.584.07-4.85c.139-3.279 1.63-4.77 4.908-4.908 1.266-.058 1.646-.07 4.85-.07zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.215-6.629 2.416-6.845 6.845-.058 1.28-.072 1.689-.072 4.947s.014 3.667.072 4.947c.215 4.358 2.416 6.629 6.845 6.845 1.28.058 1.689.072 4.947.072s3.667-.014 4.947-.072c4.358-.215 6.629-2.416 6.845-6.845.058-1.28.072-1.689.072-4.947s-.014-3.667-.072-4.947c-.215-4.358-2.416-6.629-6.845-6.845-1.28-.058-1.689-.072-4.947-.072zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zm0 10.162a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.88 1.44 1.44 0 000-2.88z"/>
                        </svg>
                        <span>pesulapgabut</span>
                    </a>
                     <a href="${instagramLink2}" target="_blank" class="flex items-center space-x-4 text-xl md:text-2xl font-bold text-fuchsia-400 hover:text-fuchsia-500 transition-colors duration-200">
                        <svg class="w-8 h-8 fill-current" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2.163c3.204 0 3.584.012 4.85.07c3.252.14 4.77 1.63 4.908 4.908.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.14 3.252-1.63 4.77-4.908 4.908-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-3.279-.139-4.77-1.63-4.908-4.908-.058-1.266-.07-1.646-.07-4.85s.012-3.584.07-4.85c.139-3.279 1.63-4.77 4.908-4.908 1.266-.058 1.646-.07 4.85-.07zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.215-6.629 2.416-6.845 6.845-.058 1.28-.072 1.689-.072 4.947s.014 3.667.072 4.947c.215 4.358 2.416 6.629 6.845 6.845 1.28.058 1.689.072 4.947.072s3.667-.014 4.947-.072c4.358-.215 6.629-2.416 6.845-6.845.058-1.28.072-1.689.072-4.947s-.014-3.667-.072-4.947c-.215-4.358-2.416-6.629-6.845-6.845-1.28-.058-1.689-.072-4.947-.072zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zm0 10.162a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.88 1.44 1.44 0 000-2.88z"/>
                        </svg>
                        <span>devanmagic</span>
                    </a>
                </div>
            `;
            openInfoModal("Social Media", content);
        };
        
        const showAboutModal = () => {
            const content = `
                <h3 class="text-lg font-bold text-white mb-4">About Devan Magic Apps x Heri Sanjaya</h3>
                <p class="text-gray-300 text-base md:text-lg leading-relaxed">
                    Devan Magic x Heri Sanjaya menghadirkan aplikasi karya anak bangsa hasil kolaborasi kami yang dirancang untuk pesulap-pesulap modern, sebagai alat yang menciptakan ilusi yang tidak hanya memukau, tetapi juga mudah dipelajari dan dilakukan oleh siapa saja.
                    <br><br>
                    Setiap aplikasi dirancang dengan antarmuka yang intuitif dan alur yang sederhana, memungkinkan Anda untuk fokus pada pertunjukan dan interaksi dengan audiens, tanpa harus repot dengan trik manual yang rumit. Kolaborasi kami bertujuan untuk terus berinovasi, memberikan alat-alat sulap digital terbaru yang dapat diandalkan untuk pertunjukan close-up maupun di panggung besar.
                </p>
            `;
            openInfoModal("About Devan Magic", content);
        };


        // Tambahkan event listener untuk semua tombol
        document.addEventListener('DOMContentLoaded', () => {
            renderApps();
            updateCart();

            // Event listener untuk grid produk (menggunakan event delegation)
            appGrid.addEventListener('click', (e) => {
                const appCard = e.target.closest('.app-card');
                const addToCartBtn = e.target.closest('.add-to-cart-btn');

                if (appCard && !addToCartBtn) {
                    const appId = appCard.dataset.id;
                    showProductModal(parseInt(appId));
                }
            });

            // Event listener untuk tombol "Lihat Detail"
            appGrid.addEventListener('click', (e) => {
                const addToCartBtn = e.target.closest('.add-to-cart-btn');
                if (addToCartBtn) {
                    const appId = addToCartBtn.dataset.id;
                    showProductModal(parseInt(appId));
                }
            });

            // Event listener untuk tombol di sidebar
            contactBtn.addEventListener('click', showContactModal);
            socialMediaBtn.addEventListener('click', showSocialMediaModal);
            aboutBtn.addEventListener('click', showAboutModal);
        });
    </script>
</body>
</html>
